# Руководство по созданию JSON файлов фракций

## Структура файла

Каждый JSON файл фракции должен содержать:

1. Массив Units со списком всех юнитов фракции
2. Массив Detachments с информацией о доступных отрядах и их улучшениях

### Структура Unit

```json
{
  "Name": "Unit Name",
  "MinModels": 1,             // Минимальное количество моделей в юните
  "MaxModels": 5,             // Максимальное количество моделей в юните  
  "Experience": [             // Массив с уровнями опыта
    {
      "Level": "Regular",     // По умолчанию "Regular"
      "BaseCost": 100,        // Базовая стоимость юнита
      "AdditionalModelCost": 20  // Стоимость дополнительной модели
    }
  ],
  "Weapons": [],              // Массив доступного оружия (пока не используется)
  "DetachUpgrade": true,      // Может ли юнит получать улучшения отряда
  "Lead": ["Unit1", "Unit2"]  // Массив юнитов, которыми может командовать данный юнит
}
```

### Структура Detachment

```json
{
  "Name": "Detachment Name",
  "MaxDetachUpgrades": 1,     // Максимальное количество улучшений отряда
  "Upgrades": [               // Массив доступных улучшений
    {
      "Name": "Upgrade Name", 
      "Cost": 25,            // Стоимость улучшения
      "Unique": true,        // Является ли улучшение уникальным
      "MaxCount": 1          // Максимальное количество копий улучшения
    }
  ]
}
```

## Процесс создания

1. Базовая информация о юнитах (название, количество моделей, стоимость) берется из PDF кодекса фракции
2. Информация о том, какими юнитами может командовать каждый юнит (поле "Lead"), ОБЯЗАТЕЛЬНО проверяется через API wahapedia.ru
3. Информация об улучшениях отрядов и их стоимости также берется из wahapedia.ru

## Важные замечания

- Не забывать проверять все лидерские способности через wahapedia.ru, так как это критически важно для правильной работы генератора
- Стоимость моделей учитывать с учетом всех модификаторов (например, скидок за количество моделей)
- Указывать корректные диапазоны количества моделей для каждого юнита
- Все улучшения отрядов должны иметь уникальные имена

### Упрощение количества моделей в юнитах

**ВАЖНО:** Для юнитов с типичными размерами отрядов следует упрощать количество моделей до 1 и 2:

- **Для отрядов 3-6 моделей**: `"MinModels": 1, "MaxModels": 2` 
  - где "1" = минимальный размер отряда (3 модели), "2" = полный размер отряда (6 моделей)
  - `BaseCost` = стоимость 3 моделей, `AdditionalModelCost` = стоимость еще 3 моделей

- **Для отрядов 5-10 моделей**: `"MinModels": 1, "MaxModels": 2`
  - где "1" = минимальный размер отряда (5 моделей), "2" = полный размер отряда (10 моделей)  
  - `BaseCost` = стоимость 5 моделей, `AdditionalModelCost` = стоимость еще 5 моделей

- **Для отрядов 10-20 моделей**: `"MinModels": 1, "MaxModels": 2`
  - где "1" = минимальный размер отряда (10 моделей), "2" = полный размер отряда (20 моделей)
  - `BaseCost` = стоимость 10 моделей, `AdditionalModelCost` = стоимость еще 10 моделей

**Цель:** Избежать дробных значений в ценах и упростить расчеты, указывая только две цены - за маленький и полный юнит, а не рассчитывать помодельно.

## Примеры файлов

Для примера структуры можно посмотреть уже существующие файлы:
- GreyKnights.json
- AELDARI.json
- ChaosDaemons.json