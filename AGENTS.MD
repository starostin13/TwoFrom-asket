# Руководство по созданию JSON файлов фракций

## Структура файла

Каждый JSON файл фракции должен содержать:

1. Массив Units со списком всех юнитов фракции
2. Массив Detachments с информацией о доступных отрядах и их улучшениях

### Структура Unit

```json
{
  "Name": "Unit Name",
  "MinModels": 1,             // Минимальное количество моделей в юните
  "MaxModels": 5,             // Максимальное количество моделей в юните  
  "Experience": [             // Массив с уровнями опыта
    {
      "Level": "Regular",     // По умолчанию "Regular"
      "BaseCost": 100,        // Базовая стоимость юнита
      "AdditionalModelCost": 20  // Стоимость дополнительной модели
    }
  ],
  "Weapons": [],              // Массив доступного оружия (пока не используется)
  "DetachUpgrade": true,      // Может ли юнит получать улучшения отряда
  "Lead": ["Unit1", "Unit2"]  // Массив юнитов, которыми может командовать данный юнит
}
```

### Структура Detachment

```json
{
  "Name": "Detachment Name",
  "MaxDetachUpgrades": 1,     // Максимальное количество улучшений отряда
  "Upgrades": [               // Массив доступных улучшений
    {
      "Name": "Upgrade Name", 
      "Cost": 25,            // Стоимость улучшения
      "Unique": true,        // Является ли улучшение уникальным
      "MaxCount": 1          // Максимальное количество копий улучшения
    }
  ]
}
```

## Процесс создания

1. Базовая информация о юнитах (название, количество моделей, стоимость) берется из PDF кодекса фракции
2. Информация о том, какими юнитами может командовать каждый юнит (поле "Lead"), ОБЯЗАТЕЛЬНО проверяется через API wahapedia.ru
3. Информация об улучшениях отрядов и их стоимости также берется из wahapedia.ru

## Важные замечания

- Не забывать проверять все лидерские способности через wahapedia.ru, так как это критически важно для правильной работы генератора
- Стоимость моделей учитывать с учетом всех модификаторов (например, скидок за количество моделей)
- Указывать корректные диапазоны количества моделей для каждого юнита
- Все улучшения отрядов должны иметь уникальные имена

## Правила расчета стоимости моделей

**Для юнитов с фиксированными размерами отрядов** (например, 3/6 моделей, 5/10 моделей, 10/20 моделей):
- НЕ нужно вычислять стоимость каждой отдельной модели
- Вместо этого можно считать, что это 1 или 2 "модели" в системе:
  - 3/6 моделей → MinModels: 1, MaxModels: 2, BaseCost: [стоимость 3 моделей], AdditionalModelCost: [стоимость дополнительных 3 моделей]
  - 5/10 моделей → MinModels: 1, MaxModels: 2, BaseCost: [стоимость 5 моделей], AdditionalModelCost: [стоимость дополнительных 5 моделей]
  - 10/20 моделей → MinModels: 1, MaxModels: 2, BaseCost: [стоимость 10 моделей], AdditionalModelCost: [стоимость дополнительных 10 моделей]

**Для юнитов с переменным количеством моделей** (например, 5-10 моделей с возможностью добавлять по одной):
- Рассчитывать реальную стоимость каждой дополнительной модели
- MinModels и MaxModels указывать фактическое количество моделей

## Примеры файлов

Для примера структуры можно посмотреть уже существующие файлы:
- GreyKnights.json
- AELDARI.json
- ChaosDaemons.json